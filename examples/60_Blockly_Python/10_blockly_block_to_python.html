<!-- 워크스페이스에 올라온 블럭을 파이썬 코드로 변환하는 예제 -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>

    <script src="../../blockly/blockly_compressed.js"></script>
    <script src="../../blockly/blocks_compressed.js"></script>
    <script src="../../blockly/msg/js/en.js"></script>
    <!-- 아래 파이썬 관련 코드에는 블럭과 파이썬 코드가 매핑되어 있음 -->
    <script src="../../blockly/generators/python.js"></script>
    <script src="../../blockly/generators/python/logic.js"></script>
    <script src="../../blockly/generators/python/loops.js"></script>
    <script src="../../blockly/generators/python/math.js"></script>
    <script src="../../blockly/generators/python/text.js"></script>
    <script src="../../blockly/generators/python/lists.js"></script>
    <script src="../../blockly/generators/python/colour.js"></script>
    <script src="../../blockly/generators/python/variables.js"></script>
    <script src="../../blockly/generators/python/procedures.js"></script>

    <script type="text/javascript">
        //  블럭을 파이썬 코드로 변환
        function toCode(lang) {
            let code = "";
            code = Blockly[lang].workspaceToCode(workspacePlayground);
            console.log(code);}
    </script>
</head>

<body>
<!-- Blockly가 생성될 영역 및 크기 -->
<div id="blocklyDiv" style="height: 480px; width: 600px;"></div>
<input type="button" value="To Python" onclick="toCode('Python')">
<!-- 카테고리를 사용하려면 모든 블럭을 전부 카테고리화 필요 -->
<xml id="toolbox" style="display: none">
    <category name="Control">
        <block type="controls_if"></block>
        <block type="controls_repeat_ext"></block>
    </category>
    <category name="Logic">
        <block type="logic_compare"></block>
        <block type="math_number"></block>
        <block type="math_arithmetic"></block>
        <block type="text"></block>
        <block type="text_print"></block>
        <block type="string_length"></block>
    </category>

</xml>

<script>
    var toolbox = document.getElementById('toolbox')
    var workspacePlayground = Blockly.inject('blocklyDiv',
        {toolbox: toolbox});
</script>
</body>
</html>